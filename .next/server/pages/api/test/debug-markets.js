"use strict";(()=>{var e={};e.id=236,e.ids=[236],e.modules={145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},4770:e=>{e.exports=require("crypto")},9926:e=>{e.exports=import("zod")},9322:(e,s,t)=>{t.a(e,async(e,r)=>{try{t.r(s),t.d(s,{config:()=>l,default:()=>n,routeModule:()=>u});var a=t(1802),o=t(7153),_=t(6249),i=t(7860),d=e([i]);i=(d.then?(await d)():d)[0];let n=(0,_.l)(i,"default"),l=(0,_.l)(i,"config"),u=new a.PagesAPIRouteModule({definition:{kind:o.x.PAGES_API,page:"/api/test/debug-markets",pathname:"/api/test/debug-markets",bundlePath:"",filename:""},userland:i});r()}catch(e){r(e)}})},3365:(e,s,t)=>{t.d(s,{U:()=>r});let r={DAILY_BUDGET:Number(process.env.DAILY_BUDGET)||100,MIN_ODDS:Number(process.env.MIN_ODDS)||.85,MAX_ODDS:Number(process.env.MAX_ODDS)||.98,MAX_DAYS_TO_RESOLUTION:Number(process.env.MAX_DAYS_TO_RESOLUTION)||2,MIN_LIQUIDITY:Number(process.env.MIN_LIQUIDITY)||2e3,INITIAL_BANKROLL:Number(process.env.INITIAL_BANKROLL)||100,DRY_RUN:"true"===process.env.DRY_RUN,MIN_POSITION_SIZE:20,MAX_POSITION_SIZE:50,STOP_LOSS_THRESHOLD:.8,MIN_HOLD_TIME_HOURS:1,MAX_SLIPPAGE_PCT:.05,MAX_LOSSES_IN_STREAK:5,MAX_STOP_LOSSES_24H:3,BANKROLL_DROP_THRESHOLD:.7,EXCLUDE_CATEGORIES:["Crypto","Sports","Entertainment"],EXCLUDE_KEYWORDS:["game","match","team","player","points","score","yards","rebounds","assists","goals","touchdown","win","loss","nfl","nba","mlb","nhl","soccer","football","basketball","baseball","hockey","tennis","golf","olympics","championship","tournament","playoff","season","celebrity","viral","trend","social media","follower","views","likes","surprise","unexpected","shock","crash","collapse","disaster"]}},7860:(e,s,t)=>{t.a(e,async(e,r)=>{try{t.r(s),t.d(s,{default:()=>i});var a=t(913),o=t(3365),_=e([a]);async function i(e,s){if(e.headers.authorization!==`Bearer ${process.env.CRON_SECRET}`)return s.status(401).json({error:"Unauthorized"});try{let e=await (0,a.fetchMarkets)(),{fetchMarkets:r}=await Promise.resolve().then(t.bind(t,913)),_=new Date,i=e.map(e=>{let s=(e.end_date.getTime()-_.getTime())/864e5;return{market_id:e.market_id,question:e.question,yes_odds:e.yes_odds,no_odds:e.no_odds,liquidity:e.liquidity,volume_24h:e.volume_24h,end_date:e.end_date,days_to_resolution:s.toFixed(2),resolved:e.resolved,passes_odds:e.yes_odds>=o.U.MIN_ODDS&&e.yes_odds<=o.U.MAX_ODDS,passes_days:s<=o.U.MAX_DAYS_TO_RESOLUTION&&s>=0,passes_liquidity:e.liquidity>=o.U.MIN_LIQUIDITY,passes_all:e.yes_odds>=o.U.MIN_ODDS&&e.yes_odds<=o.U.MAX_ODDS&&s<=o.U.MAX_DAYS_TO_RESOLUTION&&s>=0&&e.liquidity>=o.U.MIN_LIQUIDITY&&!e.resolved}}),d=i.filter(e=>e.passes_all),n=i.filter(e=>e.yes_odds>=o.U.MIN_ODDS).sort((e,s)=>s.yes_odds-e.yes_odds).slice(0,10);return s.status(200).json({ok:!0,criteria:{min_odds:o.U.MIN_ODDS,max_odds:o.U.MAX_ODDS,max_days:o.U.MAX_DAYS_TO_RESOLUTION,min_liquidity:o.U.MIN_LIQUIDITY},summary:{total_markets:e.length,qualifying:d.length,top_by_odds_count:n.length},qualifying_markets:d.slice(0,20),top_by_odds:n,sample_all_markets:i.slice(0,10)})}catch(e){return console.error("Debug markets endpoint error:",e),s.status(500).json({error:e.message,stack:void 0})}}a=(_.then?(await _)():_)[0],r()}catch(e){r(e)}})}};var s=require("../../../webpack-api-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[947],()=>t(9322));module.exports=r})();