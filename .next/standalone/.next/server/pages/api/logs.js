"use strict";(()=>{var t={};t.id=345,t.ids=[345],t.modules={145:t=>{t.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},1309:t=>{t.exports=import("@supabase/supabase-js")},9926:t=>{t.exports=import("zod")},6249:(t,r)=>{Object.defineProperty(r,"l",{enumerable:!0,get:function(){return function t(r,e){return e in r?r[e]:"then"in r&&"function"==typeof r.then?r.then(r=>t(r,e)):"function"==typeof r&&"default"===e?r:void 0}}})},4782:(t,r,e)=>{e.a(t,async(t,n)=>{try{e.r(r),e.d(r,{config:()=>_,default:()=>A,routeModule:()=>u});var o=e(1802),a=e(7153),i=e(6249),s=e(6601),E=t([s]);s=(E.then?(await E)():E)[0];let A=(0,i.l)(s,"default"),_=(0,i.l)(s,"config"),u=new o.PagesAPIRouteModule({definition:{kind:a.x.PAGES_API,page:"/api/logs",pathname:"/api/logs",bundlePath:"",filename:""},userland:s});n()}catch(t){n(t)}})},8159:(t,r,e)=>{e.a(t,async(t,n)=>{try{e.d(r,{O:()=>s});var o=e(9926),a=t([o]);let i=(o=(a.then?(await a)():a)[0]).z.object({KALSHI_API_ID:o.z.string().min(1),KALSHI_PRIVATE_KEY:o.z.string().min(1),VERCEL_AI_GATEWAY_KEY:o.z.string().min(1).optional(),AI_GATEWAY_API_KEY:o.z.string().min(1).optional(),VERCEL_OIDC_TOKEN:o.z.string().min(1).optional(),SUPABASE_URL:o.z.string().url(),SUPABASE_KEY:o.z.string().min(1).optional(),SUPABASE_SERVICE_ROLE_KEY:o.z.string().min(1).optional(),CRON_SECRET:o.z.string().min(1),DAILY_BUDGET:o.z.string().transform(Number).default("100"),MIN_ODDS:o.z.string().transform(Number).default("0.85"),MAX_ODDS:o.z.string().transform(Number).default("0.98"),MAX_DAYS_TO_RESOLUTION:o.z.string().transform(Number).default("2"),MIN_LIQUIDITY:o.z.string().transform(Number).default("2000"),DRY_RUN:o.z.string().transform(t=>"true"===t).default("false"),INITIAL_BANKROLL:o.z.string().transform(Number).default("1000")}),s=function(){try{let t=i.parse(process.env),r=t.SUPABASE_KEY||t.SUPABASE_SERVICE_ROLE_KEY;if(!r)throw Error("Missing SUPABASE_KEY (or SUPABASE_SERVICE_ROLE_KEY)");let e=t.VERCEL_AI_GATEWAY_KEY||t.AI_GATEWAY_API_KEY||t.VERCEL_OIDC_TOKEN;if(!e)throw Error("Missing VERCEL_AI_GATEWAY_KEY (or AI_GATEWAY_API_KEY / VERCEL_OIDC_TOKEN)");return{...t,SUPABASE_KEY:r,VERCEL_AI_GATEWAY_KEY:e}}catch(t){if(t instanceof o.z.ZodError){let r=t.errors.map(t=>t.path.join(".")).join(", ");throw Error(`Missing or invalid environment variables: ${r}`)}throw t}}();n()}catch(t){n(t)}})},8231:(t,r,e)=>{e.a(t,async(t,n)=>{try{e.d(r,{O:()=>s});var o=e(1309),a=e(8159),i=t([o,a]);[o,a]=i.then?(await i)():i;let s=(0,o.createClient)(a.O.SUPABASE_URL,a.O.SUPABASE_KEY);n()}catch(t){n(t)}})},6601:(t,r,e)=>{e.a(t,async(t,n)=>{try{e.r(r),e.d(r,{default:()=>i});var o=e(8231),a=t([o]);async function i(t,r){if("GET"!==t.method)return r.status(405).json({error:"Method not allowed"});try{let{data:t,error:e}=await o.O.from("error_logs").select("*").order("timestamp",{ascending:!1}).limit(100);if(e){if("PGRST116"===e.code||e.message.includes("does not exist"))return r.status(200).json({logs:[]});throw e}let n=(t||[]).map(t=>({id:t.id,timestamp:t.timestamp||t.created_at,level:t.level||"error",message:t.message,error:t.error,stack:t.stack,context:t.context?"string"==typeof t.context?JSON.parse(t.context):t.context:void 0}));return r.status(200).json({logs:n})}catch(t){return console.error("Logs API error:",t),r.status(500).json({error:t.message})}}o=(a.then?(await a)():a)[0],n()}catch(t){n(t)}})},7153:(t,r)=>{var e;Object.defineProperty(r,"x",{enumerable:!0,get:function(){return e}}),function(t){t.PAGES="PAGES",t.PAGES_API="PAGES_API",t.APP_PAGE="APP_PAGE",t.APP_ROUTE="APP_ROUTE"}(e||(e={}))},1802:(t,r,e)=>{t.exports=e(145)}};var r=require("../../webpack-api-runtime.js");r.C(t);var e=r(r.s=4782);module.exports=e})();